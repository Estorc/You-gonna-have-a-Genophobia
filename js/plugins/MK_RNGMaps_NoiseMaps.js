/*:
 * @target MZ
 * @plugindesc 0.35 Aero's Noisemap Generator
 * @author Aerosys
 * @url https://aerosys.blog
 * @base MK_RNGMaps_Dungeons
 * @orderAfter MK_RNGMaps_Dungeons
 * @
 * 
 * 
 * =====================================================================================
 * COMMANDS
 * =====================================================================================
 * 
 * @command generateNoiseMap
 * @text Generate Noise Map
 * @desc Uses the Noise Map Algorithm
 * 
 * @arg scale
 * @text Scale
 * @type Number
 * @default 20
 * @desc The higher the scale, the wider the Map will look like
 * 
 * @arg groundLevel
 * @text Ground Level
 * @type Number
 * @default -1
 * @desc Starting from 0. Use -1 to auto-detect.
 * 
 * @arg enforceSingleArea
 * @text enforce single Area?
 * @type boolean
 * @default true
 * @desc Enforce Single Area?
 * 
 * @arg thickness
 * @text Path Thickness
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 3
 * @desc When enforcing Single Area, Paths will be created.
 * 
 * @arg spanningTree
 * @text Spanning Tree Algorithm
 * @type select
 * @option Minimum Spanning Tree
 * @option Arbitrary
 * @default Minimum Spanning Tree
 * @desc Algorithm to use to connect Areas on the Map.
 * 
 * 
 * @command generateTreeMap
 * @text Generate Tree Map
 * @desc Uses the Tree Map Algorithm
 * 
 * @arg nodes
 * @text Number of Nodes
 * @type Number
 * @default 10
 * @desc Number of Points to connect
 * 
 * @arg thickness
 * @text Path Thickness
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 3
 * 
 * @arg spanningTree
 * @text Spanning Tree Algorithm
 * @type select
 * @option Minimum Spanning Tree
 * @option Arbitrary
 * @default Minimum Spanning Tree
 * @desc Algorithm to use to connect Areas on the Map.
 * 
 * 
 * @command drawPath
 * @text draw Path
 * @desc draws a Path
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Path
 * @desc Name of the Map to read from
 * 
 * @arg start
 * @text Start
 * @type select
 * @option North
 * @option West
 * @option East
 * @option South
 * @default South
 * 
 * @arg end
 * @text End
 * @type select
 * @option North
 * @option West
 * @option East
 * @option South
 * @default North
 * 
 * @arg thickness
 * @text Path Thickness
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 3
 * 
 * 
 * @command drawStructures
 * @text draw Structures
 * @desc draw Structures
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Structures
 * @desc Name of the Map to read from
 * 
 * 
 * @command drawShadings
 * @text draw Shadings
 * @desc draw Shadings
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Shadings
 * @desc Name of the Map to read from
 * 
 * @arg scale
 * @text Scale
 * @type Number
 * @default 5
 * @desc The higher the scale, the wider the Map will look like
 * 
 * @arg minValue
 * @text Min Value
 * @type Number
 * @default 0.55
 * @desc Choose from 0.0 ~ 1.0. The higher the value, the less tiles will be replaced.
 * 
 * 
 * @command drawBioms
 * @text draw Bioms
 * @desc draw Bioms
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Bioms
 * @desc Name of the Map to read from
 * 
 * @arg scale
 * @text Scale
 * @type Number
 * @default 20
 * @desc The higher the scale, the wider the Map will look like
 * 
 * @arg minValue
 * @text Min Value
 * @type Number
 * @default 0.55
 * @desc Choose from 0.0 ~ 1.0. The higher the value, the less tiles will be replaced.
 * 
 * @arg minSize
 * @text Min Size
 * @type Number
 * @default 20
 * @desc a Biom must have at least this size, otherwise it is not drawn.
 * 
 * 
 * @command drawDecorationXTimes
 * @text draw Decoration X times
 * @desc draw a Decoration X times
 * 
 * @arg regionId
 * @text Region Id
 * @type number
 * @default 1
 * @desc the Region Id of this Object
 * 
 * @arg min
 * @text at least
 * @type number
 * @default 1
 * @desc minimum number to place
 * 
 * @arg max
 * @text at most
 * @type number
 * @default 1
 * @desc max number to place
 * 
 * 
 * @command spawnPlayerAt
 * @text Spawn Player at
 * @desc Define the Starting Position
 * 
 * @arg position
 * @text Position
 * @type select
 * @option North
 * @option West
 * @option East
 * @option South
 * @option Here
 * @default South
 * @desc
 * 
 * 
 * @command finalize
 * @text Finalize
 * @desc Call this method at the end
 *  
 * 
 * =====================================================================================
 * HELP
 * =====================================================================================
 *
 * @help
 * contact
 * --------
 * Aerosys at rpgmaker web forums
 *
 * Requirements (in this order)
 * ----------------------------
 * MK_RandomGenerator_Dungeon
 *
 * T&C
 * ----------------------------
 * Credit Aerosys
 * Full T&C in the forums and on my website
 * 
 * This Plugin includes 3rd Party JS codes:
 * - noise: Stefan Gustavson (stegu<at>itn.liu.se), Public domain
 * - astar: http://github.com/bgrins/javascript-astar, MIT license
 * 
 * Thank you! :)
 * 
 * It's not required to give them credit into your game, but you can.
 *
 * Instructions and T&C at aerosys.blog
 * Please visit the rpgmakerweb forum to give feedback :)
 */

'use strict';

var Imported    = Imported || {};
var MK          = MK || {};
Imported.MK_RNGMaps_NoiseMaps = true;

if (!Imported.MK_RNGMaps_Dungeons)
    alert ("Missing Plugin: MK_RNGMaps_Dungeons");


const SCALE = 20; // default Value

// noise
var _0x3d68=['71gWDOOG','floor','seed','perlin3','6626iWfBdc','sqrt','377cfNIBh','dot2','simplex3','dot3','186237JTZSpd','134894QCsAle','perlin2','300211eHkCYR','noise','prototype','2YKhtxa','1twaVXB','47203LuCrlg','176048sEQfqA','simplex2'];var _0x486a=function(_0x1efb20,_0x1b6bd5){_0x1efb20=_0x1efb20-0xff;var _0x3d68a7=_0x3d68[_0x1efb20];return _0x3d68a7;};(function(_0x381dcf,_0x2f6900){var _0x33c369=_0x486a;while(!![]){try{var _0x262935=-parseInt(_0x33c369(0x112))+-parseInt(_0x33c369(0x103))*-parseInt(_0x33c369(0x10c))+parseInt(_0x33c369(0x106))+-parseInt(_0x33c369(0x113))*parseInt(_0x33c369(0x104))+parseInt(_0x33c369(0x105))+parseInt(_0x33c369(0x10e))*-parseInt(_0x33c369(0x108))+parseInt(_0x33c369(0x100));if(_0x262935===_0x2f6900)break;else _0x381dcf['push'](_0x381dcf['shift']());}catch(_0x3b3e3a){_0x381dcf['push'](_0x381dcf['shift']());}}}(_0x3d68,0x2e190),function(_0x35bc09){var _0x531b71=_0x486a,_0x20f14c=_0x35bc09[_0x531b71(0x101)]={};function _0x379221(_0x34bead,_0x3ed97b,_0x3d9861){this['x']=_0x34bead,this['y']=_0x3ed97b,this['z']=_0x3d9861;}_0x379221[_0x531b71(0x102)][_0x531b71(0x10f)]=function(_0x21e59a,_0x354d37){return this['x']*_0x21e59a+this['y']*_0x354d37;},_0x379221['prototype'][_0x531b71(0x111)]=function(_0x1b2977,_0x3603ee,_0x278064){return this['x']*_0x1b2977+this['y']*_0x3603ee+this['z']*_0x278064;};var _0x4ff91d=[new _0x379221(0x1,0x1,0x0),new _0x379221(-0x1,0x1,0x0),new _0x379221(0x1,-0x1,0x0),new _0x379221(-0x1,-0x1,0x0),new _0x379221(0x1,0x0,0x1),new _0x379221(-0x1,0x0,0x1),new _0x379221(0x1,0x0,-0x1),new _0x379221(-0x1,0x0,-0x1),new _0x379221(0x0,0x1,0x1),new _0x379221(0x0,-0x1,0x1),new _0x379221(0x0,0x1,-0x1),new _0x379221(0x0,-0x1,-0x1)],_0x4e9bfb=[0x97,0xa0,0x89,0x5b,0x5a,0xf,0x83,0xd,0xc9,0x5f,0x60,0x35,0xc2,0xe9,0x7,0xe1,0x8c,0x24,0x67,0x1e,0x45,0x8e,0x8,0x63,0x25,0xf0,0x15,0xa,0x17,0xbe,0x6,0x94,0xf7,0x78,0xea,0x4b,0x0,0x1a,0xc5,0x3e,0x5e,0xfc,0xdb,0xcb,0x75,0x23,0xb,0x20,0x39,0xb1,0x21,0x58,0xed,0x95,0x38,0x57,0xae,0x14,0x7d,0x88,0xab,0xa8,0x44,0xaf,0x4a,0xa5,0x47,0x86,0x8b,0x30,0x1b,0xa6,0x4d,0x92,0x9e,0xe7,0x53,0x6f,0xe5,0x7a,0x3c,0xd3,0x85,0xe6,0xdc,0x69,0x5c,0x29,0x37,0x2e,0xf5,0x28,0xf4,0x66,0x8f,0x36,0x41,0x19,0x3f,0xa1,0x1,0xd8,0x50,0x49,0xd1,0x4c,0x84,0xbb,0xd0,0x59,0x12,0xa9,0xc8,0xc4,0x87,0x82,0x74,0xbc,0x9f,0x56,0xa4,0x64,0x6d,0xc6,0xad,0xba,0x3,0x40,0x34,0xd9,0xe2,0xfa,0x7c,0x7b,0x5,0xca,0x26,0x93,0x76,0x7e,0xff,0x52,0x55,0xd4,0xcf,0xce,0x3b,0xe3,0x2f,0x10,0x3a,0x11,0xb6,0xbd,0x1c,0x2a,0xdf,0xb7,0xaa,0xd5,0x77,0xf8,0x98,0x2,0x2c,0x9a,0xa3,0x46,0xdd,0x99,0x65,0x9b,0xa7,0x2b,0xac,0x9,0x81,0x16,0x27,0xfd,0x13,0x62,0x6c,0x6e,0x4f,0x71,0xe0,0xe8,0xb2,0xb9,0x70,0x68,0xda,0xf6,0x61,0xe4,0xfb,0x22,0xf2,0xc1,0xee,0xd2,0x90,0xc,0xbf,0xb3,0xa2,0xf1,0x51,0x33,0x91,0xeb,0xf9,0xe,0xef,0x6b,0x31,0xc0,0xd6,0x1f,0xb5,0xc7,0x6a,0x9d,0xb8,0x54,0xcc,0xb0,0x73,0x79,0x32,0x2d,0x7f,0x4,0x96,0xfe,0x8a,0xec,0xcd,0x5d,0xde,0x72,0x43,0x1d,0x18,0x48,0xf3,0x8d,0x80,0xc3,0x4e,0x42,0xd7,0x3d,0x9c,0xb4],_0xabb549=new Array(0x200),_0x3d10e1=new Array(0x200);_0x20f14c[_0x531b71(0x10a)]=function(_0x59d419){_0x59d419>0x0&&_0x59d419<0x1&&(_0x59d419*=0x10000);_0x59d419=Math['floor'](_0x59d419);_0x59d419<0x100&&(_0x59d419|=_0x59d419<<0x8);for(var _0x9bccaf=0x0;_0x9bccaf<0x100;_0x9bccaf++){var _0x49390c;_0x9bccaf&0x1?_0x49390c=_0x4e9bfb[_0x9bccaf]^_0x59d419&0xff:_0x49390c=_0x4e9bfb[_0x9bccaf]^_0x59d419>>0x8&0xff,_0xabb549[_0x9bccaf]=_0xabb549[_0x9bccaf+0x100]=_0x49390c,_0x3d10e1[_0x9bccaf]=_0x3d10e1[_0x9bccaf+0x100]=_0x4ff91d[_0x49390c%0xc];}},_0x20f14c[_0x531b71(0x10a)](0x0);var _0x12af73=0.5*(Math[_0x531b71(0x10d)](0x3)-0x1),_0x22a453=(0x3-Math[_0x531b71(0x10d)](0x3))/0x6,_0x146246=0x1/0x3,_0x4caf41=0x1/0x6;_0x20f14c[_0x531b71(0x107)]=function(_0xf905d1,_0x210528){var _0x417325=_0x531b71,_0x14f6db,_0x3e9423,_0x1081f5,_0x3d2207=(_0xf905d1+_0x210528)*_0x12af73,_0xe357fc=Math[_0x417325(0x109)](_0xf905d1+_0x3d2207),_0x368a63=Math[_0x417325(0x109)](_0x210528+_0x3d2207),_0xdcafca=(_0xe357fc+_0x368a63)*_0x22a453,_0x47907c=_0xf905d1-_0xe357fc+_0xdcafca,_0xadc6c0=_0x210528-_0x368a63+_0xdcafca,_0x3f26f7,_0xe82bcf;_0x47907c>_0xadc6c0?(_0x3f26f7=0x1,_0xe82bcf=0x0):(_0x3f26f7=0x0,_0xe82bcf=0x1);var _0x15311f=_0x47907c-_0x3f26f7+_0x22a453,_0x1b10a0=_0xadc6c0-_0xe82bcf+_0x22a453,_0x288a49=_0x47907c-0x1+0x2*_0x22a453,_0x20b385=_0xadc6c0-0x1+0x2*_0x22a453;_0xe357fc&=0xff,_0x368a63&=0xff;var _0x1ff251=_0x3d10e1[_0xe357fc+_0xabb549[_0x368a63]],_0x4613bf=_0x3d10e1[_0xe357fc+_0x3f26f7+_0xabb549[_0x368a63+_0xe82bcf]],_0x37ec16=_0x3d10e1[_0xe357fc+0x1+_0xabb549[_0x368a63+0x1]],_0x563b90=0.5-_0x47907c*_0x47907c-_0xadc6c0*_0xadc6c0;_0x563b90<0x0?_0x14f6db=0x0:(_0x563b90*=_0x563b90,_0x14f6db=_0x563b90*_0x563b90*_0x1ff251[_0x417325(0x10f)](_0x47907c,_0xadc6c0));var _0x333292=0.5-_0x15311f*_0x15311f-_0x1b10a0*_0x1b10a0;_0x333292<0x0?_0x3e9423=0x0:(_0x333292*=_0x333292,_0x3e9423=_0x333292*_0x333292*_0x4613bf[_0x417325(0x10f)](_0x15311f,_0x1b10a0));var _0x10518b=0.5-_0x288a49*_0x288a49-_0x20b385*_0x20b385;return _0x10518b<0x0?_0x1081f5=0x0:(_0x10518b*=_0x10518b,_0x1081f5=_0x10518b*_0x10518b*_0x37ec16[_0x417325(0x10f)](_0x288a49,_0x20b385)),0x46*(_0x14f6db+_0x3e9423+_0x1081f5);},_0x20f14c[_0x531b71(0x110)]=function(_0x3b4f9b,_0x3caa7d,_0x3efc66){var _0x209409=_0x531b71,_0x3786d4,_0x946f53,_0x377132,_0x573622,_0x464de9=(_0x3b4f9b+_0x3caa7d+_0x3efc66)*_0x146246,_0x131d8b=Math[_0x209409(0x109)](_0x3b4f9b+_0x464de9),_0x3e7f48=Math[_0x209409(0x109)](_0x3caa7d+_0x464de9),_0x4ae533=Math[_0x209409(0x109)](_0x3efc66+_0x464de9),_0x3c3ad4=(_0x131d8b+_0x3e7f48+_0x4ae533)*_0x4caf41,_0xa285e=_0x3b4f9b-_0x131d8b+_0x3c3ad4,_0x5d50ab=_0x3caa7d-_0x3e7f48+_0x3c3ad4,_0x235bd6=_0x3efc66-_0x4ae533+_0x3c3ad4,_0x537738,_0x397c6d,_0x3eac28,_0x24e59a,_0xa57b6f,_0x1b0a5c;if(_0xa285e>=_0x5d50ab){if(_0x5d50ab>=_0x235bd6)_0x537738=0x1,_0x397c6d=0x0,_0x3eac28=0x0,_0x24e59a=0x1,_0xa57b6f=0x1,_0x1b0a5c=0x0;else _0xa285e>=_0x235bd6?(_0x537738=0x1,_0x397c6d=0x0,_0x3eac28=0x0,_0x24e59a=0x1,_0xa57b6f=0x0,_0x1b0a5c=0x1):(_0x537738=0x0,_0x397c6d=0x0,_0x3eac28=0x1,_0x24e59a=0x1,_0xa57b6f=0x0,_0x1b0a5c=0x1);}else{if(_0x5d50ab<_0x235bd6)_0x537738=0x0,_0x397c6d=0x0,_0x3eac28=0x1,_0x24e59a=0x0,_0xa57b6f=0x1,_0x1b0a5c=0x1;else _0xa285e<_0x235bd6?(_0x537738=0x0,_0x397c6d=0x1,_0x3eac28=0x0,_0x24e59a=0x0,_0xa57b6f=0x1,_0x1b0a5c=0x1):(_0x537738=0x0,_0x397c6d=0x1,_0x3eac28=0x0,_0x24e59a=0x1,_0xa57b6f=0x1,_0x1b0a5c=0x0);}var _0x556405=_0xa285e-_0x537738+_0x4caf41,_0x351e48=_0x5d50ab-_0x397c6d+_0x4caf41,_0x25e673=_0x235bd6-_0x3eac28+_0x4caf41,_0x154fd3=_0xa285e-_0x24e59a+0x2*_0x4caf41,_0x1647d0=_0x5d50ab-_0xa57b6f+0x2*_0x4caf41,_0x2afec9=_0x235bd6-_0x1b0a5c+0x2*_0x4caf41,_0x37573d=_0xa285e-0x1+0x3*_0x4caf41,_0x326b50=_0x5d50ab-0x1+0x3*_0x4caf41,_0x2bd1ff=_0x235bd6-0x1+0x3*_0x4caf41;_0x131d8b&=0xff,_0x3e7f48&=0xff,_0x4ae533&=0xff;var _0x9451c7=_0x3d10e1[_0x131d8b+_0xabb549[_0x3e7f48+_0xabb549[_0x4ae533]]],_0x3e6a4c=_0x3d10e1[_0x131d8b+_0x537738+_0xabb549[_0x3e7f48+_0x397c6d+_0xabb549[_0x4ae533+_0x3eac28]]],_0x5cd3ab=_0x3d10e1[_0x131d8b+_0x24e59a+_0xabb549[_0x3e7f48+_0xa57b6f+_0xabb549[_0x4ae533+_0x1b0a5c]]],_0x5a0035=_0x3d10e1[_0x131d8b+0x1+_0xabb549[_0x3e7f48+0x1+_0xabb549[_0x4ae533+0x1]]],_0x546110=0.6-_0xa285e*_0xa285e-_0x5d50ab*_0x5d50ab-_0x235bd6*_0x235bd6;_0x546110<0x0?_0x3786d4=0x0:(_0x546110*=_0x546110,_0x3786d4=_0x546110*_0x546110*_0x9451c7[_0x209409(0x111)](_0xa285e,_0x5d50ab,_0x235bd6));var _0x1567b0=0.6-_0x556405*_0x556405-_0x351e48*_0x351e48-_0x25e673*_0x25e673;_0x1567b0<0x0?_0x946f53=0x0:(_0x1567b0*=_0x1567b0,_0x946f53=_0x1567b0*_0x1567b0*_0x3e6a4c[_0x209409(0x111)](_0x556405,_0x351e48,_0x25e673));var _0x879f70=0.6-_0x154fd3*_0x154fd3-_0x1647d0*_0x1647d0-_0x2afec9*_0x2afec9;_0x879f70<0x0?_0x377132=0x0:(_0x879f70*=_0x879f70,_0x377132=_0x879f70*_0x879f70*_0x5cd3ab[_0x209409(0x111)](_0x154fd3,_0x1647d0,_0x2afec9));var _0x35e903=0.6-_0x37573d*_0x37573d-_0x326b50*_0x326b50-_0x2bd1ff*_0x2bd1ff;return _0x35e903<0x0?_0x573622=0x0:(_0x35e903*=_0x35e903,_0x573622=_0x35e903*_0x35e903*_0x5a0035[_0x209409(0x111)](_0x37573d,_0x326b50,_0x2bd1ff)),0x20*(_0x3786d4+_0x946f53+_0x377132+_0x573622);};function _0x51e4a7(_0x576da6){return _0x576da6*_0x576da6*_0x576da6*(_0x576da6*(_0x576da6*0x6-0xf)+0xa);}function _0x30f0bd(_0x5f47d4,_0x34686d,_0x445e10){return(0x1-_0x445e10)*_0x5f47d4+_0x445e10*_0x34686d;}_0x20f14c[_0x531b71(0xff)]=function(_0x1e977d,_0x4c38b9){var _0x9f62ce=_0x531b71,_0x2ad720=Math['floor'](_0x1e977d),_0xcfd8e6=Math[_0x9f62ce(0x109)](_0x4c38b9);_0x1e977d=_0x1e977d-_0x2ad720,_0x4c38b9=_0x4c38b9-_0xcfd8e6,_0x2ad720=_0x2ad720&0xff,_0xcfd8e6=_0xcfd8e6&0xff;var _0x149284=_0x3d10e1[_0x2ad720+_0xabb549[_0xcfd8e6]][_0x9f62ce(0x10f)](_0x1e977d,_0x4c38b9),_0x3eb5e7=_0x3d10e1[_0x2ad720+_0xabb549[_0xcfd8e6+0x1]][_0x9f62ce(0x10f)](_0x1e977d,_0x4c38b9-0x1),_0x1a6003=_0x3d10e1[_0x2ad720+0x1+_0xabb549[_0xcfd8e6]][_0x9f62ce(0x10f)](_0x1e977d-0x1,_0x4c38b9),_0xe13c1d=_0x3d10e1[_0x2ad720+0x1+_0xabb549[_0xcfd8e6+0x1]][_0x9f62ce(0x10f)](_0x1e977d-0x1,_0x4c38b9-0x1),_0x225b1f=_0x51e4a7(_0x1e977d);return _0x30f0bd(_0x30f0bd(_0x149284,_0x1a6003,_0x225b1f),_0x30f0bd(_0x3eb5e7,_0xe13c1d,_0x225b1f),_0x51e4a7(_0x4c38b9));},_0x20f14c[_0x531b71(0x10b)]=function(_0x398633,_0x102964,_0x218069){var _0x122b3d=_0x531b71,_0x2b86f5=Math[_0x122b3d(0x109)](_0x398633),_0x308095=Math[_0x122b3d(0x109)](_0x102964),_0x531105=Math[_0x122b3d(0x109)](_0x218069);_0x398633=_0x398633-_0x2b86f5,_0x102964=_0x102964-_0x308095,_0x218069=_0x218069-_0x531105,_0x2b86f5=_0x2b86f5&0xff,_0x308095=_0x308095&0xff,_0x531105=_0x531105&0xff;var _0x3d22e2=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+_0xabb549[_0x531105]]][_0x122b3d(0x111)](_0x398633,_0x102964,_0x218069),_0x3abf45=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+_0xabb549[_0x531105+0x1]]][_0x122b3d(0x111)](_0x398633,_0x102964,_0x218069-0x1),_0x5eec97=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105]]]['dot3'](_0x398633,_0x102964-0x1,_0x218069),_0x16aaed=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105+0x1]]]['dot3'](_0x398633,_0x102964-0x1,_0x218069-0x1),_0x4c6676=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+_0xabb549[_0x531105]]][_0x122b3d(0x111)](_0x398633-0x1,_0x102964,_0x218069),_0x332286=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+_0xabb549[_0x531105+0x1]]]['dot3'](_0x398633-0x1,_0x102964,_0x218069-0x1),_0x4d9a0d=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105]]][_0x122b3d(0x111)](_0x398633-0x1,_0x102964-0x1,_0x218069),_0x35a324=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105+0x1]]][_0x122b3d(0x111)](_0x398633-0x1,_0x102964-0x1,_0x218069-0x1),_0x301f3d=_0x51e4a7(_0x398633),_0x567365=_0x51e4a7(_0x102964),_0x4460f0=_0x51e4a7(_0x218069);return _0x30f0bd(_0x30f0bd(_0x30f0bd(_0x3d22e2,_0x4c6676,_0x301f3d),_0x30f0bd(_0x3abf45,_0x332286,_0x301f3d),_0x4460f0),_0x30f0bd(_0x30f0bd(_0x5eec97,_0x4d9a0d,_0x301f3d),_0x30f0bd(_0x16aaed,_0x35a324,_0x301f3d),_0x4460f0),_0x567365);};}(this));

// astar
var _0x37a3=['indexOf','content','16115ZnOVsS','function','31ReTcTX','visited','amd','weight','scoreFunction','closest','getCost','heuristics','cleanNode','dirtyNodes','bubbleUp','512202pDSUUB','init','astar','7477wuPpDR','exports','2612bFKJQY','pop','parent','sinkDown','51926kjRrhg','Graph','grid','nodes','size','109RLOchU','push','closed','abs','422322fWtTGv','cleanDirty','object','rescoreElement','unshift','sqrt','94469IUwHPy','71UkoTtN','join','manhattan','diagonal','prototype','heuristic','toString','min','markDirty','isWall','length','neighbors'];var _0x4ab7=function(_0x3928b4,_0x510559){_0x3928b4=_0x3928b4-0x9d;var _0x37a38d=_0x37a3[_0x3928b4];return _0x37a38d;};(function(_0x53cd5c,_0x235458){var _0x546b93=_0x4ab7;while(!![]){try{var _0x2a28f0=parseInt(_0x546b93(0xc3))*parseInt(_0x546b93(0xba))+parseInt(_0x546b93(0xa8))*-parseInt(_0x546b93(0xaa))+parseInt(_0x546b93(0xc7))+parseInt(_0x546b93(0xcd))+-parseInt(_0x546b93(0xbe))+parseInt(_0x546b93(0xb8))*parseInt(_0x546b93(0xce))+-parseInt(_0x546b93(0xb5));if(_0x2a28f0===_0x235458)break;else _0x53cd5c['push'](_0x53cd5c['shift']());}catch(_0x3ca907){_0x53cd5c['push'](_0x53cd5c['shift']());}}}(_0x37a3,0x41981),function(_0x311b65){var _0x4564e0=_0x4ab7;if(typeof module===_0x4564e0(0xc9)&&typeof module[_0x4564e0(0xb9)]===_0x4564e0(0xc9))module[_0x4564e0(0xb9)]=_0x311b65();else{if(typeof define===_0x4564e0(0xa9)&&define[_0x4564e0(0xac)])define([],_0x311b65);else{var _0xffc1c=_0x311b65();window[_0x4564e0(0xb7)]=_0xffc1c['astar'],window['Graph']=_0xffc1c[_0x4564e0(0xbf)];}}}(function(){var _0x2ff8e2=_0x4ab7;function _0x42bc97(_0x44f9ab){var _0x1b36b7=_0x4ab7,_0x19581e=_0x44f9ab,_0x2efca2=[];while(_0x19581e['parent']){_0x2efca2[_0x1b36b7(0xcb)](_0x19581e),_0x19581e=_0x19581e[_0x1b36b7(0xbc)];}return _0x2efca2;}function _0x3843db(){return new _0x1006f9(function(_0x54c940){return _0x54c940['f'];});}var _0x40a4cb={'search':function(_0x3875fd,_0xc9dfd9,_0x1c133b,_0x166bfe){var _0x58812d=_0x4ab7;_0x3875fd[_0x58812d(0xc8)](),_0x166bfe=_0x166bfe||{};var _0x139389=_0x166bfe[_0x58812d(0x9f)]||_0x40a4cb[_0x58812d(0xb1)][_0x58812d(0xd0)],_0x4f7727=_0x166bfe[_0x58812d(0xaf)]||![],_0x257577=_0x3843db(),_0x41146f=_0xc9dfd9;_0xc9dfd9['h']=_0x139389(_0xc9dfd9,_0x1c133b),_0x3875fd[_0x58812d(0xa2)](_0xc9dfd9),_0x257577['push'](_0xc9dfd9);while(_0x257577[_0x58812d(0xc2)]()>0x0){var _0x2d68e2=_0x257577[_0x58812d(0xbb)]();if(_0x2d68e2===_0x1c133b)return _0x42bc97(_0x2d68e2);_0x2d68e2['closed']=!![];var _0x1258d9=_0x3875fd['neighbors'](_0x2d68e2);for(var _0x238892=0x0,_0x195f01=_0x1258d9[_0x58812d(0xa4)];_0x238892<_0x195f01;++_0x238892){var _0x3ff1c0=_0x1258d9[_0x238892];if(_0x3ff1c0['closed']||_0x3ff1c0[_0x58812d(0xa3)]())continue;var _0x514372=_0x2d68e2['g']+_0x3ff1c0[_0x58812d(0xb0)](_0x2d68e2),_0x5d3013=_0x3ff1c0[_0x58812d(0xab)];(!_0x5d3013||_0x514372<_0x3ff1c0['g'])&&(_0x3ff1c0[_0x58812d(0xab)]=!![],_0x3ff1c0['parent']=_0x2d68e2,_0x3ff1c0['h']=_0x3ff1c0['h']||_0x139389(_0x3ff1c0,_0x1c133b),_0x3ff1c0['g']=_0x514372,_0x3ff1c0['f']=_0x3ff1c0['g']+_0x3ff1c0['h'],_0x3875fd['markDirty'](_0x3ff1c0),_0x4f7727&&((_0x3ff1c0['h']<_0x41146f['h']||_0x3ff1c0['h']===_0x41146f['h']&&_0x3ff1c0['g']<_0x41146f['g'])&&(_0x41146f=_0x3ff1c0)),!_0x5d3013?_0x257577['push'](_0x3ff1c0):_0x257577[_0x58812d(0xca)](_0x3ff1c0));}}if(_0x4f7727)return _0x42bc97(_0x41146f);return[];},'heuristics':{'manhattan':function(_0x31b954,_0x51fa97){var _0x6c80c4=Math['abs'](_0x51fa97['x']-_0x31b954['x']),_0x1126c8=Math['abs'](_0x51fa97['y']-_0x31b954['y']);return _0x6c80c4+_0x1126c8;},'diagonal':function(_0x21a60d,_0x1ae75e){var _0x55119f=_0x4ab7,_0xa6069c=0x1,_0x468fb8=Math[_0x55119f(0xcc)](0x2),_0x432d10=Math[_0x55119f(0xc6)](_0x1ae75e['x']-_0x21a60d['x']),_0x55fd48=Math[_0x55119f(0xc6)](_0x1ae75e['y']-_0x21a60d['y']);return _0xa6069c*(_0x432d10+_0x55fd48)+(_0x468fb8-0x2*_0xa6069c)*Math[_0x55119f(0xa1)](_0x432d10,_0x55fd48);}},'cleanNode':function(_0x52b58a){var _0x151974=_0x4ab7;_0x52b58a['f']=0x0,_0x52b58a['g']=0x0,_0x52b58a['h']=0x0,_0x52b58a[_0x151974(0xab)]=![],_0x52b58a[_0x151974(0xc5)]=![],_0x52b58a['parent']=null;}};function _0x2288a3(_0x235a53,_0x579fa0){var _0x40e869=_0x4ab7;_0x579fa0=_0x579fa0||{},this[_0x40e869(0xc1)]=[],this[_0x40e869(0x9d)]=!!_0x579fa0[_0x40e869(0x9d)],this[_0x40e869(0xc0)]=[];for(var _0x3ad663=0x0;_0x3ad663<_0x235a53[_0x40e869(0xa4)];_0x3ad663++){this[_0x40e869(0xc0)][_0x3ad663]=[];for(var _0x29cf19=0x0,_0x54739b=_0x235a53[_0x3ad663];_0x29cf19<_0x54739b[_0x40e869(0xa4)];_0x29cf19++){var _0x476577=new _0x5721c6(_0x3ad663,_0x29cf19,_0x54739b[_0x29cf19]);this[_0x40e869(0xc0)][_0x3ad663][_0x29cf19]=_0x476577,this[_0x40e869(0xc1)][_0x40e869(0xc4)](_0x476577);}}this[_0x40e869(0xb6)]();}_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xb6)]=function(){var _0x47d3f8=_0x2ff8e2;this[_0x47d3f8(0xb3)]=[];for(var _0x5dd632=0x0;_0x5dd632<this[_0x47d3f8(0xc1)][_0x47d3f8(0xa4)];_0x5dd632++){_0x40a4cb[_0x47d3f8(0xb2)](this[_0x47d3f8(0xc1)][_0x5dd632]);}},_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xc8)]=function(){var _0x43802c=_0x2ff8e2;for(var _0x119694=0x0;_0x119694<this[_0x43802c(0xb3)]['length'];_0x119694++){_0x40a4cb[_0x43802c(0xb2)](this[_0x43802c(0xb3)][_0x119694]);}this[_0x43802c(0xb3)]=[];},_0x2288a3['prototype']['markDirty']=function(_0x4e49bf){var _0x116801=_0x2ff8e2;this[_0x116801(0xb3)][_0x116801(0xc4)](_0x4e49bf);},_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa5)]=function(_0x35b4b6){var _0x170b20=_0x2ff8e2,_0x51d710=[],_0xaeb7a9=_0x35b4b6['x'],_0x599776=_0x35b4b6['y'],_0x5c65a9=this['grid'];return _0x5c65a9[_0xaeb7a9-0x1]&&_0x5c65a9[_0xaeb7a9-0x1][_0x599776]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9-0x1][_0x599776]),_0x5c65a9[_0xaeb7a9+0x1]&&_0x5c65a9[_0xaeb7a9+0x1][_0x599776]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9+0x1][_0x599776]),_0x5c65a9[_0xaeb7a9]&&_0x5c65a9[_0xaeb7a9][_0x599776-0x1]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9][_0x599776-0x1]),_0x5c65a9[_0xaeb7a9]&&_0x5c65a9[_0xaeb7a9][_0x599776+0x1]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9][_0x599776+0x1]),this['diagonal']&&(_0x5c65a9[_0xaeb7a9-0x1]&&_0x5c65a9[_0xaeb7a9-0x1][_0x599776-0x1]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9-0x1][_0x599776-0x1]),_0x5c65a9[_0xaeb7a9+0x1]&&_0x5c65a9[_0xaeb7a9+0x1][_0x599776-0x1]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9+0x1][_0x599776-0x1]),_0x5c65a9[_0xaeb7a9-0x1]&&_0x5c65a9[_0xaeb7a9-0x1][_0x599776+0x1]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9-0x1][_0x599776+0x1]),_0x5c65a9[_0xaeb7a9+0x1]&&_0x5c65a9[_0xaeb7a9+0x1][_0x599776+0x1]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9+0x1][_0x599776+0x1])),_0x51d710;},_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa0)]=function(){var _0x42fafd=_0x2ff8e2,_0x4322ed=[],_0x585407=this[_0x42fafd(0xc0)];for(var _0x542f3c=0x0;_0x542f3c<_0x585407[_0x42fafd(0xa4)];_0x542f3c++){var _0x559544=[],_0x1cc240=_0x585407[_0x542f3c];for(var _0x11be5f=0x0;_0x11be5f<_0x1cc240[_0x42fafd(0xa4)];_0x11be5f++){_0x559544['push'](_0x1cc240[_0x11be5f][_0x42fafd(0xad)]);}_0x4322ed[_0x42fafd(0xc4)](_0x559544[_0x42fafd(0xcf)]('\x20'));}return _0x4322ed[_0x42fafd(0xcf)]('\x0a');};function _0x5721c6(_0x1fac97,_0x221d74,_0x336f8b){var _0x2496ba=_0x2ff8e2;this['x']=_0x1fac97,this['y']=_0x221d74,this[_0x2496ba(0xad)]=_0x336f8b;}_0x5721c6[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa0)]=function(){return'['+this['x']+'\x20'+this['y']+']';},_0x5721c6[_0x2ff8e2(0x9e)][_0x2ff8e2(0xb0)]=function(_0x52404b){var _0x357066=_0x2ff8e2;if(_0x52404b&&_0x52404b['x']!=this['x']&&_0x52404b['y']!=this['y'])return this[_0x357066(0xad)]*1.41421;return this[_0x357066(0xad)];},_0x5721c6[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa3)]=function(){var _0xbb30b9=_0x2ff8e2;return this[_0xbb30b9(0xad)]===0x0;};function _0x1006f9(_0x15ab9d){var _0x31ff0c=_0x2ff8e2;this[_0x31ff0c(0xa7)]=[],this[_0x31ff0c(0xae)]=_0x15ab9d;}return _0x1006f9[_0x2ff8e2(0x9e)]={'push':function(_0x1afcba){var _0x53b585=_0x2ff8e2;this[_0x53b585(0xa7)][_0x53b585(0xc4)](_0x1afcba),this[_0x53b585(0xbd)](this['content'][_0x53b585(0xa4)]-0x1);},'pop':function(){var _0x3b1760=_0x2ff8e2,_0x297aff=this['content'][0x0],_0x94c4d0=this['content']['pop']();return this['content'][_0x3b1760(0xa4)]>0x0&&(this[_0x3b1760(0xa7)][0x0]=_0x94c4d0,this[_0x3b1760(0xb4)](0x0)),_0x297aff;},'remove':function(_0x48bbd0){var _0x594865=_0x2ff8e2,_0x5b0815=this[_0x594865(0xa7)][_0x594865(0xa6)](_0x48bbd0),_0x17a4ec=this[_0x594865(0xa7)][_0x594865(0xbb)]();_0x5b0815!==this[_0x594865(0xa7)]['length']-0x1&&(this[_0x594865(0xa7)][_0x5b0815]=_0x17a4ec,this[_0x594865(0xae)](_0x17a4ec)<this[_0x594865(0xae)](_0x48bbd0)?this['sinkDown'](_0x5b0815):this[_0x594865(0xb4)](_0x5b0815));},'size':function(){var _0x690517=_0x2ff8e2;return this[_0x690517(0xa7)][_0x690517(0xa4)];},'rescoreElement':function(_0x329554){var _0x48ee1d=_0x2ff8e2;this[_0x48ee1d(0xbd)](this['content'][_0x48ee1d(0xa6)](_0x329554));},'sinkDown':function(_0x18aae4){var _0xc6206=_0x2ff8e2,_0x214d28=this[_0xc6206(0xa7)][_0x18aae4];while(_0x18aae4>0x0){var _0x1ea6fb=(_0x18aae4+0x1>>0x1)-0x1,_0x441f51=this[_0xc6206(0xa7)][_0x1ea6fb];if(this[_0xc6206(0xae)](_0x214d28)<this['scoreFunction'](_0x441f51))this['content'][_0x1ea6fb]=_0x214d28,this[_0xc6206(0xa7)][_0x18aae4]=_0x441f51,_0x18aae4=_0x1ea6fb;else break;}},'bubbleUp':function(_0x2a4218){var _0x412eda=_0x2ff8e2,_0x10729f=this['content'][_0x412eda(0xa4)],_0x3456b4=this['content'][_0x2a4218],_0x104190=this[_0x412eda(0xae)](_0x3456b4);while(!![]){var _0x27dc95=_0x2a4218+0x1<<0x1,_0x3336e5=_0x27dc95-0x1,_0x1bcce0=null,_0x53dbdc;if(_0x3336e5<_0x10729f){var _0x451d60=this[_0x412eda(0xa7)][_0x3336e5];_0x53dbdc=this['scoreFunction'](_0x451d60),_0x53dbdc<_0x104190&&(_0x1bcce0=_0x3336e5);}if(_0x27dc95<_0x10729f){var _0x10a73a=this['content'][_0x27dc95],_0x2506c3=this['scoreFunction'](_0x10a73a);_0x2506c3<(_0x1bcce0===null?_0x104190:_0x53dbdc)&&(_0x1bcce0=_0x27dc95);}if(_0x1bcce0!==null)this[_0x412eda(0xa7)][_0x2a4218]=this[_0x412eda(0xa7)][_0x1bcce0],this[_0x412eda(0xa7)][_0x1bcce0]=_0x3456b4,_0x2a4218=_0x1bcce0;else break;}}},{'astar':_0x40a4cb,'Graph':_0x2288a3};}));

// MK
const _0xfeb7=['Path\x20Thickness:\x20Value\x20','drawStructures','find','wipeCurrentMap','spawnPlayerAt','apply','getGroundLevel','FATAL:\x20arg2\x20is\x20null!','connectIslands','min','leaveRNGArea','reset','spawnPlayerAt:\x20argument\x20must\x20be\x20north,\x20south,\x20west,\x20or\x20east,\x20but\x20was\x20','anyAreaMatches','drawDecorationXTimes','isTileEmpty','west','isMapIncluded','spawnPlayerAt(x,\x20y)','kruskalMST','string','calculateArray','some','setupBioms','forEach','generate','additionalMaps','tiles','getArray','randomInteger','tile','\x20not\x20defined\x20-\x20Please\x20make\x20a\x20Map\x20with\x20this\x20name\x20and\x20move\x20it\x20below\x20the\x20Space\x20Map','left','drawDecorationXTimes:\x20Invalid\x20Region\x20Id:\x20','scan','random','right','4142uQRiPo','3xCsECg','getStartEndPositionByString','DECORATION_STOPPER_ID','length','pick_random','top','sort','biomsDataMap','n_levels','toMKTileId','_verticalArray','getSnippetWidth','simpleSpanningTree','getSnippetHeight','groundLevel','_verticalScale','drawAsset','center','matrixForEach','start','loadMapData2','You\x20provided\x20the\x20arg\x20\x27verticalArray\x27\x20with\x20length\x20','map','nodes','getStartEndPosition','dataMap','east','width','putPathTile','floor','calculatePath','makePathBigger','search','isAreaEmpty','spawnPlayerByDirection','Invalid\x20API\x20Call:\x20Use\x20\x27$noiseMapGenerator.noiseMap().generate()\x27','getAllIslands','seed','10RSWJNc','shadings','drawPath','7JTClFh','MST','MK.average:\x20items\x20is\x20null\x20or\x20empty!','copyTileFromXY','drawDecoration','rng','quantileIndex','Invalid\x20API\x20Call:\x20Use\x20\x27$noiseMapGenerator.treeMap().generate()\x27','toLowerCase','push','decoration','getHeightLevel','assetsInfo','matchers','onUsePremiumFunctionAlert','Invalid\x20Region\x20Id:\x20','height','_groundLevel','regionId','spawnLocation','getPath','treeMap','alias','number','call','abs','refinedHeightMap','south','generateNoiseMap','Invalid\x20API\x20Call:\x20drawShadings\x20expects\x20(mapName,\x20scale,\x20minValue)','getTileStack','structures','drawDecorations','contains','_enforceSingleArea','sqrt','enforceSingleArea','weight','refineToHeightMap','dest','9901DHvyKP','11217dYDBgf','every','areaMatches','3xIHxNT','_drawDecorations','applySmoothBorder','368777TSNCDi','bottom','thickness','_n_nodes','splice','269473GQOyjO','getCenter','FATAL:\x20arg1\x20is\x20null!','getPossibleLocations','getMapFromDisk','concat','_spanningTree','filter','createMatrix','applyGradient','average','_thickness','scale','here','loadMapData','equalTileStacks','110327yxzhAj','drawBioms','findIndex','grid','drawFloor','169283YcXXyg','arrange','_identifyDecoRegions','\x20not\x20defined!\x20Please\x20make\x20a\x20Map\x20with\x20this\x20name\x20and\x20put\x20it\x20below\x20the\x20Space\x20Map','north','isPassable','euclidianDistance','_identifyShadingsMap','perlin2','Invalid\x20Spanning\x20Tree\x20mode:\x20'];const _0x546d14=_0x4a58;(function(_0x9e8afe,_0x54de0f){const _0x3470fc=_0x4a58;while(!![]){try{const _0x1adcbf=parseInt(_0x3470fc(0x16a))*-parseInt(_0x3470fc(0xf4))+parseInt(_0x3470fc(0x10f))+-parseInt(_0x3470fc(0xfa))+parseInt(_0x3470fc(0x16d))*-parseInt(_0x3470fc(0xf3))+parseInt(_0x3470fc(0xff))+parseInt(_0x3470fc(0x114))*parseInt(_0x3470fc(0x144))+-parseInt(_0x3470fc(0x143))*-parseInt(_0x3470fc(0xf7));if(_0x1adcbf===_0x54de0f)break;else _0x9e8afe['push'](_0x9e8afe['shift']());}catch(_0x5c7bcf){_0x9e8afe['push'](_0x9e8afe['shift']());}}}(_0xfeb7,0x5567d),MK['generateNoiseMap']=function(_0x4b7922,_0xed20b5,_0x1f54bf){const _0xef75fe=_0x4a58;_0x1f54bf=_0x1f54bf||SCALE;const _0x5e5784=MK[_0xef75fe(0x107)](_0x4b7922,_0xed20b5);return MK['matrixForEach'](_0x5e5784,(_0xc7109d,_0x4d37ce)=>(noise[_0xef75fe(0x11c)](_0xc7109d/_0x1f54bf,_0x4d37ce/_0x1f54bf)+0x1)*0.5);},MK[_0x546d14(0x109)]=function(_0x1eea41){const _0x5aa100=_0x546d14;if(!_0x1eea41||!_0x1eea41[_0x5aa100(0x147)])throw Error(_0x5aa100(0x16f));let _0x139d99=0x0;return _0x1eea41[_0x5aa100(0x136)](_0x3a605f=>_0x139d99+=_0x3a605f),Math[_0x5aa100(0x161)](_0x139d99/_0x1eea41[_0x5aa100(0x147)]);},MK[_0x546d14(0x100)]=function(_0x1ebe6c){const _0x435c0e=_0x546d14,_0x4ffa24=MK['average'](_0x1ebe6c[_0x435c0e(0x15a)](_0x233df3=>_0x233df3['x'])),_0x3c183f=MK[_0x435c0e(0x109)](_0x1ebe6c[_0x435c0e(0x15a)](_0x4db2ed=>_0x4db2ed['y']));return{'x':_0x4ffa24,'y':_0x3c183f};},MK[_0x546d14(0x11a)]=function(_0x26746f,_0x154783){const _0x239d25=_0x546d14;return Math[_0x239d25(0xee)](Math[_0x239d25(0xe4)](_0x154783['x']-_0x26746f['x'])**0x2+Math[_0x239d25(0xe4)](_0x154783['y']-_0x26746f['y'])**0x2);},MK[_0x546d14(0x131)]=function(_0x15e489){const _0x23e0ca=_0x546d14;if(_0x15e489[_0x23e0ca(0x147)]==0x1)return[];const _0x5ee190=[],_0x5c461a=[],_0x4ed37e=[];for(let _0x2b9394=0x0;_0x2b9394<_0x15e489['length'];_0x2b9394++){for(let _0x26d64c=0x0;_0x26d64c<_0x15e489[_0x23e0ca(0x147)];_0x26d64c++){if(_0x2b9394==_0x26d64c)continue;_0x5ee190['push']({'start':_0x15e489[_0x2b9394],'dest':_0x15e489[_0x26d64c],'weight':MK[_0x23e0ca(0x11a)](_0x15e489[_0x2b9394],_0x15e489[_0x26d64c])});}}_0x5ee190['sort']((_0x52fb87,_0x555d3c)=>_0x52fb87[_0x23e0ca(0xf0)]-_0x555d3c[_0x23e0ca(0xf0)]);function _0xc21886(_0x1a494a){const _0x404c35=_0x23e0ca;return _0x4ed37e['findIndex'](_0x4b6fed=>_0x4b6fed[_0x404c35(0xec)](_0x1a494a['start'])&&_0x4b6fed['contains'](_0x1a494a[_0x404c35(0xf2)]))!=-0x1;}function _0xb55287(_0x194b0d){const _0x52953c=_0x23e0ca;for(let _0x4f0fbf=0x0;_0x4f0fbf<_0x4ed37e[_0x52953c(0x147)];_0x4f0fbf++){let _0x4c778a=_0x4ed37e[_0x4f0fbf];if(_0x4c778a['contains'](_0x194b0d[_0x52953c(0x157)])){_0x4c778a[_0x52953c(0x176)](_0x194b0d[_0x52953c(0xf2)]);for(let _0x2e47ef=0x0;_0x2e47ef<_0x4ed37e['length'];_0x2e47ef++){if(_0x4f0fbf==_0x2e47ef)continue;let _0x72ba42=_0x4ed37e[_0x2e47ef];if(_0x72ba42[_0x52953c(0xec)](_0x194b0d[_0x52953c(0xf2)])){_0x72ba42[_0x52953c(0x136)](_0x41013b=>_0x4c778a[_0x52953c(0x176)](_0x41013b)),_0x4ed37e[_0x52953c(0xfe)](_0x2e47ef,0x1);return;}}return;}else{if(_0x4c778a[_0x52953c(0xec)](_0x194b0d[_0x52953c(0xf2)])){_0x4c778a[_0x52953c(0x176)](_0x194b0d[_0x52953c(0x157)]);for(let _0x4bdd76=0x0;_0x4bdd76<_0x4ed37e[_0x52953c(0x147)];_0x4bdd76++){if(_0x4f0fbf==_0x4bdd76)continue;let _0x3bf5ae=_0x4ed37e[_0x4bdd76];if(_0x3bf5ae[_0x52953c(0xec)](_0x194b0d[_0x52953c(0x157)])){_0x3bf5ae[_0x52953c(0x136)](_0x5bd0b3=>_0x4c778a[_0x52953c(0x176)](_0x5bd0b3)),_0x4ed37e[_0x52953c(0xfe)](_0x4bdd76,0x1);return;}}return;}}}_0x4ed37e[_0x52953c(0x176)]([_0x194b0d[_0x52953c(0x157)],_0x194b0d[_0x52953c(0xf2)]]);}for(let _0x28a308=0x0;_0x28a308<_0x5ee190[_0x23e0ca(0x147)];_0x28a308++){const _0x11a279=_0x5ee190[_0x28a308];!_0xc21886(_0x11a279)&&(_0x5c461a['push'](_0x11a279),_0xb55287(_0x11a279));if(_0x5c461a[_0x23e0ca(0x147)]==_0x15e489[_0x23e0ca(0x147)]-0x1)break;}return _0x5c461a;},MK[_0x546d14(0x150)]=function(_0x4bd650){const _0x56f050=_0x546d14;if(_0x4bd650[_0x56f050(0x147)]==0x1)return[];let _0x1fc7e7=MK[_0x56f050(0x172)]['randomInteger'](_0x4bd650[_0x56f050(0x147)]-0x1),_0x7f9050=_0x4bd650[MK[_0x56f050(0x172)][_0x56f050(0x13b)](_0x4bd650[_0x56f050(0x147)]-0x1)];_0x4bd650[_0x56f050(0xfe)](_0x1fc7e7,0x1);const _0x47ecdf=[_0x7f9050],_0xd97269=[];while(_0x4bd650[_0x56f050(0x147)]){const _0x39852b=_0x47ecdf[MK[_0x56f050(0x172)][_0x56f050(0x13b)](_0x47ecdf[_0x56f050(0x147)]-0x1)];_0x1fc7e7=MK[_0x56f050(0x172)][_0x56f050(0x13b)](_0x4bd650['length']-0x1);const _0x18593f=_0x4bd650[_0x1fc7e7];_0x4bd650[_0x56f050(0xfe)](_0x1fc7e7,0x1),_0xd97269['push']({'start':_0x39852b,'dest':_0x18593f}),_0x47ecdf[_0x56f050(0x176)](_0x18593f);}return _0xd97269;},MK['getAllIslands']=function(_0x13ca81,_0x205941,_0x3e853a){const _0x19771c=_0x546d14,_0x213983=[],_0x5d4c35=MK[_0x19771c(0x107)](_0x13ca81,_0x205941);for(let _0x3d602d=0x0;_0x3d602d<_0x13ca81;_0x3d602d++){for(let _0xfa45d4=0x0;_0xfa45d4<_0x205941;_0xfa45d4++){const _0x5e5c08=MK[_0x19771c(0x140)](_0x13ca81,_0x205941,_0x3d602d,_0xfa45d4,_0x5d4c35,_0x3e853a);if(_0x5e5c08[_0x19771c(0x147)]>0x0)_0x213983[_0x19771c(0x176)](_0x5e5c08);}}return _0x213983;},MK[_0x546d14(0x140)]=function(_0x487325,_0x416507,_0x17a6da,_0x28a1e5,_0x5c0f53,_0x4a061e){const _0x966dac=_0x546d14,_0x3f1c3b=[],_0x1101a3=[];function _0x291c5e(_0x3b1877,_0x48d1b2){return 0x0<=_0x3b1877&&_0x3b1877<_0x487325&&0x0<=_0x48d1b2&&_0x48d1b2<_0x416507&&!_0x5c0f53[_0x3b1877][_0x48d1b2]&&_0x4a061e(_0x3b1877,_0x48d1b2);}if(_0x291c5e(_0x17a6da,_0x28a1e5))_0x3f1c3b[_0x966dac(0x176)]({'x':_0x17a6da,'y':_0x28a1e5});else _0x5c0f53[_0x17a6da][_0x28a1e5]=!![];while(_0x3f1c3b[_0x966dac(0x147)]>0x0){const _0x10e54e=_0x3f1c3b['pop']();_0x1101a3[_0x966dac(0x176)](_0x10e54e),_0x5c0f53[_0x10e54e['x']][_0x10e54e['y']]=!![];if(_0x291c5e(_0x10e54e['x']-0x1,_0x10e54e['y']))_0x3f1c3b[_0x966dac(0x176)]({'x':_0x10e54e['x']-0x1,'y':_0x10e54e['y']});if(_0x291c5e(_0x10e54e['x'],_0x10e54e['y']-0x1))_0x3f1c3b[_0x966dac(0x176)]({'x':_0x10e54e['x'],'y':_0x10e54e['y']-0x1});if(_0x291c5e(_0x10e54e['x']+0x1,_0x10e54e['y']))_0x3f1c3b[_0x966dac(0x176)]({'x':_0x10e54e['x']+0x1,'y':_0x10e54e['y']});if(_0x291c5e(_0x10e54e['x'],_0x10e54e['y']+0x1))_0x3f1c3b[_0x966dac(0x176)]({'x':_0x10e54e['x'],'y':_0x10e54e['y']+0x1});}return _0x1101a3;},MK['calculatePath']=function(_0x6734cf,_0x4c9a81,_0xc615ed,_0x8e66a7,_0x4fd84f){const _0x2bd6d1=_0x546d14,_0x960312=MK['createMatrix'](_0x6734cf,_0x4c9a81);MK[_0x2bd6d1(0x156)](_0x960312,_0x4fd84f);const _0x363f5b=new Graph(_0x960312),_0x1cca81=_0x363f5b['grid'][_0xc615ed['x']][_0xc615ed['y']],_0x1e9ca7=_0x363f5b[_0x2bd6d1(0x112)][_0x8e66a7['x']][_0x8e66a7['y']];return[_0xc615ed][_0x2bd6d1(0x104)](astar[_0x2bd6d1(0x164)](_0x363f5b,_0x1cca81,_0x1e9ca7))[_0x2bd6d1(0x104)](_0x8e66a7);},MK[_0x546d14(0xe1)][_0x546d14(0x158)]=DataManager[_0x546d14(0x10d)],DataManager[_0x546d14(0x10d)]=function(_0x2b4f91){const _0x4c7e0f=_0x546d14;MK['alias'][_0x4c7e0f(0x158)][_0x4c7e0f(0xe3)](this,_0x2b4f91),$dungeonGenerator['mapId']!=_0x2b4f91&&$noiseMapGenerator['leaveRNGArea']();},MK['alias'][_0x546d14(0x12f)]=MK[_0x546d14(0x12f)],MK[_0x546d14(0x12f)]=function(_0x493949){const _0x57fc98=_0x546d14;return!![]||MK[_0x57fc98(0xe1)]['isMapIncluded']['call'](this,_0x493949);});class NoisemapGenerator extends DungeonGenerator{['initialize'](){super['initialize']();}['leaveRNGArea'](){const _0x3246b7=_0x546d14;super[_0x3246b7(0x128)](),this[_0x3246b7(0xd7)]={},this[_0x3246b7(0x14b)]=null;}[_0x546d14(0x14d)](_0x7ed867){return _0x7ed867>=0x800?Math['floor']((_0x7ed867-0x800)/0x30)+0x800:_0x7ed867;}[_0x546d14(0x10e)](_0x24fccf,_0x16e0f9){const _0x4ef828=_0x546d14;if(!_0x24fccf)throw Error(_0x4ef828(0x101));if(!_0x16e0f9)throw Error(_0x4ef828(0x125));const _0x5f2172=this[_0x4ef828(0x14d)](_0x24fccf[0x0])==this[_0x4ef828(0x14d)](_0x16e0f9[0x0]),_0x5dfdea=this[_0x4ef828(0x14d)](_0x24fccf[0x1])==this['toMKTileId'](_0x16e0f9[0x1]),_0x12e65e=this[_0x4ef828(0x14d)](_0x24fccf[0x2])==this['toMKTileId'](_0x16e0f9[0x2]),_0x5d195f=this[_0x4ef828(0x14d)](_0x24fccf[0x3])==this['toMKTileId'](_0x16e0f9[0x3]),_0x372850=this[_0x4ef828(0x14d)](_0x24fccf[0x5])==this['toMKTileId'](_0x16e0f9[0x5]);return _0x5f2172&&_0x5dfdea&&_0x12e65e&&_0x5d195f&&_0x372850;}['isTileStackEmpty'](_0x4617ef){const _0x1f39d1=_0x546d14;return _0x4617ef[_0x1f39d1(0xf5)](_0xd0207e=>_0xd0207e==0x0);}[_0x546d14(0x119)](_0x41b7ea,_0x1ad07f,_0x2b1640){const _0x2ba1d9=_0x546d14;_0x2b1640=_0x2b1640||this[_0x2ba1d9(0x15d)];for(let _0x476b7f=0x0;_0x476b7f<0x4;_0x476b7f++){const _0x87ff=this[_0x2ba1d9(0x13c)](_0x41b7ea,_0x1ad07f,0x3-_0x476b7f,_0x2b1640),_0x50873a=$gameMap['tilesetFlags']()[_0x87ff];if((_0x50873a&0x10)!=0x0)continue;return(_0x50873a&0xf)==0x0;}}[_0x546d14(0x124)](){const _0x45e1d3=_0x546d14,_0x47c697=MK['arrange'](this[_0x45e1d3(0x14b)][_0x45e1d3(0xdb)])[_0x45e1d3(0x111)](_0x2dce9f=>this['isPassable'](0x0,_0x2dce9f,this['biomsDataMap']));return _0x47c697!=-0x1?_0x47c697:0x1;}['generateNoiseMap'](_0x572755){const _0x5f544e=_0x546d14,_0x1dd5c9=this[_0x5f544e(0x15d)][_0x5f544e(0x15f)],_0x131250=this[_0x5f544e(0x15d)][_0x5f544e(0xdb)];return MK['generateNoiseMap'](_0x1dd5c9,_0x131250,_0x572755);}[_0x546d14(0xf1)](_0x6dc77b,_0x37e0b0){const _0x4a69b8=_0x546d14;MK[_0x4a69b8(0x156)](_0x6dc77b,(_0x36b9e0,_0x5dd0e5)=>this[_0x4a69b8(0xd6)](_0x6dc77b[_0x36b9e0][_0x5dd0e5],_0x37e0b0));}[_0x546d14(0xd6)](_0x14f496,_0x4e9459){const _0x5ab4c0=_0x546d14;let _0x3dbb0b=MK[_0x5ab4c0(0x115)](_0x4e9459[_0x5ab4c0(0x147)])[_0x5ab4c0(0x111)](_0x35b2e1=>_0x14f496<_0x4e9459[_0x35b2e1]);return _0x3dbb0b!=-0x1?_0x3dbb0b:_0x4e9459[_0x5ab4c0(0x147)];}[_0x546d14(0x133)](_0x61ea75,_0x5d6659){const _0x1b50e1=_0x546d14,_0x57ef33=[][_0x1b50e1(0x104)][_0x1b50e1(0x123)]([],_0x61ea75);_0x57ef33[_0x1b50e1(0x14a)]();const _0x5816a2=this[_0x1b50e1(0x13a)](_0x5d6659);return _0x5816a2[_0x1b50e1(0x15a)](_0x2830f1=>{const _0x3c8f0c=_0x1b50e1,_0x5f2785=Math[_0x3c8f0c(0x161)](_0x2830f1*_0x57ef33[_0x3c8f0c(0x147)]);return _0x57ef33[_0x5f2785];});}[_0x546d14(0x13a)](_0x277653){const _0xd2df70=[];for(let _0x35b9f9=0x1;_0x35b9f9<_0x277653;_0x35b9f9++){_0xd2df70['push'](_0x35b9f9*(0x1/_0x277653));}return _0xd2df70;}['quantile'](_0x222648,_0x39d9f5){const _0x5a13e1=_0x546d14;return _0x222648[this[_0x5a13e1(0x173)](_0x222648,_0x39d9f5)];}[_0x546d14(0x173)](_0x231346,_0x40885f){const _0x2c2eec=_0x546d14;return _0x231346['sort'](),_0x231346[_0x2c2eec(0x111)](_0x48615b=>_0x231346[_0x48615b]>=_0x40885f);}['generate'](_0x58dc7b){const _0x52dafe=_0x546d14;if(!_0x58dc7b)throw Error(_0x52dafe(0x167));this[_0x52dafe(0x129)](),this['wipeCurrentMap']();if(!this[_0x52dafe(0x14b)])this['setupBioms']();this[_0x52dafe(0x152)]=_0x58dc7b[_0x52dafe(0xdc)]&&_0x58dc7b['_groundLevel']!=0x0?_0x58dc7b[_0x52dafe(0xdc)]:this[_0x52dafe(0x124)](),noise[_0x52dafe(0x169)](MK[_0x52dafe(0x172)][_0x52dafe(0x13b)](0xff)),this[_0x52dafe(0xe5)]=this['generateNoiseMap'](_0x58dc7b[_0x52dafe(0x153)]);const _0x434433=_0x58dc7b[_0x52dafe(0x14e)]||this[_0x52dafe(0x133)](this[_0x52dafe(0xe5)],this[_0x52dafe(0x14c)]);if(_0x434433[_0x52dafe(0x147)]+0x1!=this[_0x52dafe(0x14c)])throw Error(_0x52dafe(0x159)+_0x434433[_0x52dafe(0x147)]+'\x20but\x20the\x20Map\x20has\x20'+this[_0x52dafe(0x14c)]+'\x20levels!'+'\x0aThe\x20array\x27s\x20size\x20must\x20be\x20'+(this[_0x52dafe(0x14c)]-0x1));this[_0x52dafe(0xf9)](this[_0x52dafe(0xe5)],0x4),this[_0x52dafe(0xf1)](this[_0x52dafe(0xe5)],_0x434433);if(_0x58dc7b['_enforceSingleArea']){const _0x28b221=this['getAllIslands']((_0x2a42ae,_0x410397)=>this['refinedHeightMap'][_0x2a42ae][_0x410397]>=this[_0x52dafe(0x152)]),_0xba7d84=_0x28b221[_0x52dafe(0x15a)](_0x2ebc44=>MK[_0x52dafe(0x100)](_0x2ebc44));this['connectIslands'](_0xba7d84,_0x58dc7b);}return this[_0x52dafe(0x113)](),this;}['generateTreeMap'](_0x1308ed){const _0x44fced=_0x546d14;if(!_0x1308ed)throw Error(_0x44fced(0x174));this[_0x44fced(0x129)](),this[_0x44fced(0x121)]();const _0x1e4bc0=this[_0x44fced(0x15d)]['width'],_0x55353d=this[_0x44fced(0x15d)]['height'],_0x301fbe=0x4,_0x34c46d=_0x1e4bc0-0x5,_0x37efb5=0x4,_0x46eb6d=_0x55353d-0x5;if(!this[_0x44fced(0x14b)])this[_0x44fced(0x135)]();this[_0x44fced(0x152)]=0x1,this['refinedHeightMap']=MK[_0x44fced(0x107)](_0x1e4bc0,_0x55353d);const _0x5357d3=[];while(_0x5357d3[_0x44fced(0x147)]<(_0x1308ed['_n_nodes']||0x14)){_0x5357d3[_0x44fced(0x176)]({'x':MK[_0x44fced(0x172)][_0x44fced(0x13b)](_0x301fbe,_0x34c46d),'y':MK[_0x44fced(0x172)][_0x44fced(0x13b)](_0x37efb5,_0x46eb6d)});}return this[_0x44fced(0x126)](_0x5357d3,_0x1308ed),this[_0x44fced(0x113)](),this;}[_0x546d14(0xf9)](_0x2ee26b,_0x1ebb97){const _0x498440=_0x546d14,_0x2f0ba4=this[_0x498440(0x15d)][_0x498440(0x15f)],_0x4a6249=this[_0x498440(0x15d)]['height'];for(let _0x4daf3c=0x0;_0x4daf3c<_0x2f0ba4;_0x4daf3c++){for(let _0x5ed1ee=0x0;_0x5ed1ee<_0x4a6249;_0x5ed1ee++){const _0x1a5af6=Math[_0x498440(0x127)](_0x4daf3c,_0x5ed1ee,_0x2f0ba4-_0x4daf3c-0x1,_0x4a6249-_0x5ed1ee-0x1),_0x2772d9=Math['min'](_0x1a5af6/_0x1ebb97,0x1);_0x2ee26b[_0x4daf3c][_0x5ed1ee]*=_0x2772d9;}}}[_0x546d14(0x168)](_0x4310e6){const _0x4ad49e=_0x546d14,_0x297909=this['dataMap'][_0x4ad49e(0x15f)],_0x12d65a=this[_0x4ad49e(0x15d)][_0x4ad49e(0xdb)];return MK[_0x4ad49e(0x168)](_0x297909,_0x12d65a,_0x4310e6);}[_0x546d14(0x126)](_0x1379fa,_0x462aea){const _0x2b0ac8=_0x546d14;let _0x8ba5fa=null;if(_0x462aea[_0x2b0ac8(0x105)]==_0x2b0ac8(0x16e))_0x8ba5fa=MK['kruskalMST'];if(_0x462aea[_0x2b0ac8(0x105)]==_0x2b0ac8(0x141))_0x8ba5fa=MK['simpleSpanningTree'];if(!_0x8ba5fa)throw Error(_0x2b0ac8(0x11d)+_0x462aea[_0x2b0ac8(0x105)]+'\x0aPlease\x20choose\x20from\x20\x27MST\x27\x20or\x20\x27random\x27');const _0x19100c=_0x8ba5fa[_0x2b0ac8(0xe3)](this,_0x1379fa);for(let _0xa6e34a of _0x19100c){let _0x20173c=this[_0x2b0ac8(0xdf)](_0xa6e34a[_0x2b0ac8(0x157)],_0xa6e34a[_0x2b0ac8(0xf2)]);_0x20173c=this['makePathBigger'](_0x20173c,_0x462aea[_0x2b0ac8(0x10a)]),_0x20173c[_0x2b0ac8(0x136)](_0x5570fb=>this[_0x2b0ac8(0xe5)][_0x5570fb['x']][_0x5570fb['y']]=this[_0x2b0ac8(0x152)]);}}[_0x546d14(0x135)](){const _0x2ece0a=_0x546d14;this['biomsDataMap']=MK[_0x2ece0a(0x103)]();const _0x2dbe93=$dataMap[_0x2ece0a(0xdb)];this[_0x2ece0a(0x14c)]=MK[_0x2ece0a(0x115)](_0x2dbe93)[_0x2ece0a(0x120)](_0x22e257=>this[_0x2ece0a(0x12d)](0x0,_0x22e257,this[_0x2ece0a(0x14b)]));}['drawFloor'](){const _0x5bbe17=_0x546d14,_0xa59526=this[_0x5bbe17(0x15d)]['width'],_0x3461ca=this[_0x5bbe17(0x15d)][_0x5bbe17(0xdb)];for(let _0x5d93d1=0x0;_0x5d93d1<_0xa59526;_0x5d93d1++){for(let _0x13475e=0x0;_0x13475e<_0x3461ca;_0x13475e++){const _0x4fbfe9=0x0,_0x3eb90e=this['refinedHeightMap'][_0x5d93d1][_0x13475e];this['copyTileFromXY'](_0x4fbfe9,_0x3eb90e,_0x5d93d1,_0x13475e,this['biomsDataMap'],this[_0x5bbe17(0x15d)]);}}}[_0x546d14(0x108)](_0x44fbfc,_0xa6a207,_0x3ce722){const _0x4eb1a8=_0x546d14,_0x767a50=$dataMap[_0x4eb1a8(0x15f)],_0x3d096e=$dataMap['height'],_0x2e3403=0x1-Math[_0x4eb1a8(0xe4)](0.5-_0x44fbfc/_0x767a50)*0x2,_0x2e8cf1=0x1-Math[_0x4eb1a8(0xe4)](0.5-_0xa6a207/_0x3d096e)*0x2,_0x36cfa3=(_0x2e3403*_0x2e8cf1)**0.5;return _0x3ce722+(_0x36cfa3-0.5)*0x2;}[_0x546d14(0x16c)](_0x419323,_0x35d425,_0x40f7df,_0x5d3fb4){const _0x134813=_0x546d14;_0x419323=_0x419323||_0x134813(0xe6),_0x35d425=_0x35d425||'north',_0x40f7df=_0x40f7df||'Path',_0x40f7df=_0x40f7df[_0x134813(0x175)]();if(_0x419323==_0x35d425)throw Error('Path:\x20Start\x20and\x20End\x20cannot\x20be\x20equal!');this['_identifyShadingsMap'](_0x40f7df);let _0x47b269=this[_0x134813(0xdf)](_0x419323,_0x35d425);return _0x47b269=this[_0x134813(0x163)](_0x47b269,_0x5d3fb4),_0x47b269['forEach'](_0x240e3e=>this[_0x134813(0x160)](_0x240e3e['x'],_0x240e3e['y'],_0x40f7df)),_0x47b269['forEach'](_0x5044e2=>this[_0x134813(0xe5)][_0x5044e2['x']][_0x5044e2['y']]=this['groundLevel']),this;}['getPath'](_0x7fb5d4,_0x1877b8){const _0x2ec9e1=_0x546d14,_0x5a0c2e=$dataMap[_0x2ec9e1(0x15f)],_0x461829=$dataMap[_0x2ec9e1(0xdb)];return _0x7fb5d4=this['getStartEndPosition'](_0x7fb5d4),_0x1877b8=this[_0x2ec9e1(0x15c)](_0x1877b8),MK[_0x2ec9e1(0x162)](_0x5a0c2e,_0x461829,_0x7fb5d4,_0x1877b8,(_0x12e458,_0x44e2c7)=>this['weight'](_0x12e458,_0x44e2c7));}[_0x546d14(0xf0)](_0x1d34bc,_0x5ce9c7){const _0x42c0be=_0x546d14,_0x201675=this[_0x42c0be(0xe5)][_0x1d34bc][_0x5ce9c7];return _0x201675>=this[_0x42c0be(0x152)]&&this['isPassable'](_0x1d34bc,_0x5ce9c7)?(this[_0x42c0be(0x14c)]-_0x201675)**0x2:0x2710;}['getStartEndPosition'](_0x16d9c4){const _0x2c451e=_0x546d14;return typeof _0x16d9c4=='string'?this[_0x2c451e(0x145)](_0x16d9c4):_0x16d9c4;}[_0x546d14(0x145)](_0x5ec1a2){const _0x330d4d=_0x546d14,_0x3a0de4=$dataMap[_0x330d4d(0x15f)],_0x4034a2=$dataMap[_0x330d4d(0xdb)];_0x5ec1a2=_0x5ec1a2[_0x330d4d(0x175)]();if(_0x330d4d(0x118)==_0x5ec1a2)return{'x':MK[_0x330d4d(0x172)][_0x330d4d(0x13b)](0x5,_0x3a0de4-0x5),'y':0x0};if(_0x330d4d(0x15e)==_0x5ec1a2)return{'x':_0x3a0de4-0x1,'y':MK[_0x330d4d(0x172)][_0x330d4d(0x13b)](0x5,_0x4034a2-0x5)};if(_0x330d4d(0xe6)==_0x5ec1a2)return{'x':MK[_0x330d4d(0x172)][_0x330d4d(0x13b)](0x5,_0x3a0de4-0x5),'y':_0x4034a2-0x1};if('west'==_0x5ec1a2)return{'x':0x0,'y':MK['rng'][_0x330d4d(0x13b)](0x5,_0x4034a2-0x5)};if(_0x330d4d(0x155)==_0x5ec1a2)return{'x':Math[_0x330d4d(0x161)](_0x3a0de4/0x2),'y':Math['floor'](_0x4034a2/0x2)};throw Error('direction\x20must\x20be\x20either\x20north,\x20east,\x20south\x20or\x20west,\x20center,\x20but\x20was\x20'+_0x5ec1a2);}[_0x546d14(0x163)](_0x109837,_0x4cf503){const _0x53f366=_0x546d14;_0x4cf503=_0x4cf503||0x3;if(![0x1,0x2,0x3,0x4,0x5][_0x53f366(0xec)](_0x4cf503))throw Error(_0x53f366(0x11e)+_0x4cf503+'not\x20supported.\x20Please\x20choose\x20from\x201,\x202,\x203,\x204,\x20or\x205');if(_0x4cf503==0x1)return _0x109837;let _0x7eddbd=[];const _0x42bd29={},_0x4f9680=$dataMap[_0x53f366(0x15f)],_0xc9be9c=$dataMap[_0x53f366(0xdb)];function _0x565a18(_0x2e86){const _0x837ecf=_0x2e86['x']*0x2710+_0x2e86['y'];!_0x42bd29[_0x837ecf]&&(_0x7eddbd['push'](_0x2e86),_0x42bd29[_0x837ecf]=!![]);}for(let _0x5b8ae0 of _0x109837){_0x565a18({'x':_0x5b8ae0['x'],'y':_0x5b8ae0['y']}),_0x4cf503>=0x2&&(_0x565a18({'x':_0x5b8ae0['x']+0x1,'y':_0x5b8ae0['y']}),_0x565a18({'x':_0x5b8ae0['x'],'y':_0x5b8ae0['y']+0x1})),_0x4cf503>=0x3&&(_0x565a18({'x':_0x5b8ae0['x']-0x1,'y':_0x5b8ae0['y']}),_0x565a18({'x':_0x5b8ae0['x'],'y':_0x5b8ae0['y']-0x1})),_0x4cf503>=0x4&&(_0x565a18({'x':_0x5b8ae0['x']-0x1,'y':_0x5b8ae0['y']+0x1}),_0x565a18({'x':_0x5b8ae0['x'],'y':_0x5b8ae0['y']+0x2}),_0x565a18({'x':_0x5b8ae0['x']+0x1,'y':_0x5b8ae0['y']-0x1}),_0x565a18({'x':_0x5b8ae0['x']+0x1,'y':_0x5b8ae0['y']+0x1}),_0x565a18({'x':_0x5b8ae0['x']+0x2,'y':_0x5b8ae0['y']})),_0x4cf503>=0x5&&(_0x565a18({'x':_0x5b8ae0['x']-0x2,'y':_0x5b8ae0['y']}),_0x565a18({'x':_0x5b8ae0['x']-0x1,'y':_0x5b8ae0['y']-0x1}),_0x565a18({'x':_0x5b8ae0['x'],'y':_0x5b8ae0['y']-0x2}));}return _0x7eddbd[_0x53f366(0x106)](_0x22e701=>0x0<=_0x22e701['x']&&_0x22e701['x']<_0x4f9680&&0x0<=_0x22e701['y']&&_0x22e701['y']<_0xc9be9c);}[_0x546d14(0x160)](_0x39e4c,_0x3ceaaf,_0x42ac1d){const _0x435029=_0x546d14;for(let _0x13bd39 of this[_0x435029(0xd7)][_0x42ac1d]){if(this[_0x435029(0x12b)](_0x39e4c,_0x3ceaaf,_0x13bd39['matchers'],_0x42ac1d)){const _0x5800d3=MK[_0x435029(0x172)]['randomInteger'](_0x13bd39[_0x435029(0x139)]['n']-0x1),_0x4d285d=_0x13bd39[_0x435029(0x139)]['x']+_0x5800d3,_0x470d50=_0x13bd39[_0x435029(0x139)]['y'];this['safelyCopyTiles'](_0x39e4c,_0x3ceaaf,_0x42ac1d,_0x4d285d,_0x470d50,_0x4d285d,_0x470d50);return;}}}['drawShadings'](_0x293fb0,_0x1483e1,_0x319ab3){const _0x17b6c1=_0x546d14;_0x1483e1=_0x1483e1||0x5,_0x319ab3=_0x319ab3||0.55,_0x293fb0=_0x293fb0||_0x17b6c1(0x16b),_0x293fb0=_0x293fb0[_0x17b6c1(0x175)]();if(typeof _0x293fb0!=_0x17b6c1(0x132)||typeof _0x1483e1!=_0x17b6c1(0xe2)||typeof _0x319ab3!=_0x17b6c1(0xe2))throw Error(_0x17b6c1(0xe8));this[_0x17b6c1(0x11b)](_0x293fb0),noise[_0x17b6c1(0x169)](MK[_0x17b6c1(0x172)][_0x17b6c1(0x13b)](0xff));const _0x3f5d7f=this[_0x17b6c1(0xe7)](_0x1483e1);return MK[_0x17b6c1(0x156)](_0x3f5d7f,(_0x153499,_0x2b3185)=>{const _0x1557c4=_0x17b6c1;if(_0x3f5d7f[_0x153499][_0x2b3185]>=_0x319ab3)for(let _0x5af82e of this[_0x1557c4(0xd7)][_0x293fb0]){this['anyAreaMatches'](_0x153499,_0x2b3185,_0x5af82e[_0x1557c4(0xd8)],_0x293fb0)&&this[_0x1557c4(0x170)](_0x5af82e[_0x1557c4(0x139)]['x'],_0x5af82e['tiles']['y'],_0x153499,_0x2b3185,MK[_0x1557c4(0x138)][_0x293fb0],this[_0x1557c4(0x15d)]);}}),this;}[_0x546d14(0x110)](_0x124062,_0x3024a8,_0x104fd2,_0x334ab8){const _0x369b3f=_0x546d14;_0x3024a8=_0x3024a8||0x1e,_0x104fd2=_0x104fd2||0.55,_0x124062=_0x124062||'bioms',_0x124062=_0x124062[_0x369b3f(0x175)](),_0x334ab8=_0x334ab8||_0x3024a8;if(typeof _0x124062!=_0x369b3f(0x132)||typeof _0x3024a8!='number'||typeof _0x104fd2!=_0x369b3f(0xe2))throw Error('Invalid\x20API\x20Call:\x20drawBioms\x20expects\x20(mapName,\x20scale,\x20minValue)');noise[_0x369b3f(0x169)](MK[_0x369b3f(0x172)]['randomInteger'](0xff)),this[_0x369b3f(0x11b)](_0x124062);const _0x35987c=this[_0x369b3f(0xd7)][_0x124062][0x0],_0x143200=_0x35987c[_0x369b3f(0x139)]['n'],_0x2cead1=this[_0x369b3f(0xe7)](_0x3024a8);for(let _0x8489ca=0x0;_0x8489ca<this[_0x369b3f(0x15d)][_0x369b3f(0x15f)];_0x8489ca++){for(let _0x230178=0x0;_0x230178<this[_0x369b3f(0x15d)][_0x369b3f(0xdb)];_0x230178++){_0x2cead1[_0x8489ca][_0x230178]=this['refinedHeightMap'][_0x8489ca][_0x230178]>=this[_0x369b3f(0x152)]?_0x2cead1[_0x8489ca][_0x230178]:0x0;}}const _0xe94dbc=MK['getAllIslands'](this['dataMap'][_0x369b3f(0x15f)],this[_0x369b3f(0x15d)][_0x369b3f(0xdb)],(_0x309201,_0x5e59d8)=>_0x2cead1[_0x309201][_0x5e59d8]>=_0x104fd2)[_0x369b3f(0x106)](_0x24d3a9=>_0x24d3a9[_0x369b3f(0x147)]>_0x334ab8);for(let _0x14d425 of _0xe94dbc){const _0x4683be=MK['rng'][_0x369b3f(0x13b)](_0x143200-0x1);for(let _0x156236 of _0x14d425){this[_0x369b3f(0x12b)](_0x156236['x'],_0x156236['y'],_0x35987c[_0x369b3f(0xd8)],_0x124062)&&this[_0x369b3f(0x170)](_0x35987c['tiles']['x']+_0x4683be,0x0,_0x156236['x'],_0x156236['y'],MK[_0x369b3f(0x138)][_0x124062],this['dataMap']);}}return this;}[_0x546d14(0x11f)](_0x14bcc7){const _0x1abb78=_0x546d14;return _0x14bcc7=_0x14bcc7||_0x1abb78(0xea),this[_0x1abb78(0xf8)](_0x14bcc7),this;}[_0x546d14(0xeb)](_0x225f51){const _0x28b687=_0x546d14;return this[_0x28b687(0xf8)](_0x28b687(0x177),_0x225f51),this;}[_0x546d14(0xf8)](_0x11ca8f,_0x4d59d7){const _0x211940=_0x546d14;_0x11ca8f=_0x11ca8f[_0x211940(0x175)](),this[_0x211940(0x116)](_0x11ca8f);for(let _0x4f80e5 in this[_0x211940(0xd7)][_0x11ca8f]){if(!_0x4d59d7||_0x4d59d7[_0x211940(0xec)](Number(_0x4f80e5)))this[_0x211940(0x171)](_0x4f80e5,_0x11ca8f);}}['drawDecoration'](_0x1bb5ed,_0x4d83e2){const _0x25a304=_0x546d14;_0x4d83e2=_0x4d83e2||_0x25a304(0x177),_0x4d83e2=_0x4d83e2[_0x25a304(0x175)]();const _0x3ae7f3=this[_0x25a304(0xd7)][_0x4d83e2][_0x1bb5ed];if(!_0x3ae7f3)throw Error(_0x25a304(0xda)+_0x1bb5ed);const _0x4f3bbd=this[_0x25a304(0x102)](_0x1bb5ed,null,null,null,null,_0x4d83e2);for(let _0x136fbe of _0x4f3bbd){if(this[_0x25a304(0x12b)](_0x136fbe['x'],_0x136fbe['y'],_0x3ae7f3[_0x25a304(0xd8)],_0x4d83e2)){const _0x177eed=MK[_0x25a304(0x172)][_0x25a304(0x13b)](_0x3ae7f3['n']-0x1);this[_0x25a304(0x154)](_0x136fbe['x'],_0x136fbe['y'],_0x4d83e2,_0x3ae7f3,_0x177eed);}}}[_0x546d14(0x12c)](_0x257b6b,_0x496f64,_0x133aa1){const _0x14d687=_0x546d14;this[_0x14d687(0x116)](_0x14d687(0x177)),_0x496f64=!_0x496f64&&_0x496f64!==0x0?0x1:_0x496f64,_0x133aa1=_0x133aa1||_0x496f64;const _0x8bea31=MK[_0x14d687(0x172)][_0x14d687(0x13b)](_0x496f64,_0x133aa1),_0x14d97c=this[_0x14d687(0xd7)][_0x14d687(0x177)][_0x257b6b];if(!_0x14d97c)throw Error(_0x14d687(0x13f)+_0x257b6b);for(let _0x38343f=0x0;_0x38343f<_0x8bea31;_0x38343f++){const _0x50278e=this[_0x14d687(0x102)](_0x257b6b,null,null,null,null,_0x14d687(0x177));if(_0x50278e['length']==0x0)break;const _0xf5e539=MK[_0x14d687(0x172)]['pick_random'](_0x50278e),_0x58f060=MK[_0x14d687(0x172)][_0x14d687(0x13b)](_0x14d97c['n']-0x1);this[_0x14d687(0x154)](_0xf5e539['x'],_0xf5e539['y'],_0x14d687(0x177),_0x14d97c,_0x58f060);}return this;}['getPossibleLocations'](_0x5d563f,_0x5d8a77,_0x4d6271,_0x3dbe99,_0x3e65eb,_0x4628d9){const _0x6c106a=_0x546d14;_0x5d8a77=_0x5d8a77||0x0,_0x3dbe99=_0x3dbe99||0x0,_0x4d6271=_0x4d6271||$dataMap['width'],_0x3e65eb=_0x3e65eb||$dataMap[_0x6c106a(0xdb)],_0x4628d9=_0x4628d9||'decoration';const _0x26357f=this[_0x6c106a(0xd7)][_0x4628d9][_0x5d563f][_0x6c106a(0xd8)],_0x3a7098=[];for(let _0x8aedf3=_0x5d8a77;_0x8aedf3<_0x4d6271;_0x8aedf3++){for(let _0x57d563=_0x3dbe99;_0x57d563<_0x3e65eb;_0x57d563++){if(this[_0x6c106a(0x12b)](_0x8aedf3,_0x57d563,_0x26357f,_0x4628d9))_0x3a7098[_0x6c106a(0x176)]({'x':_0x8aedf3,'y':_0x57d563});}}return _0x3a7098;}[_0x546d14(0x12b)](_0x5ce71c,_0xafa635,_0x4b445e,_0x450854){const _0x264b22=_0x546d14;return MK[_0x264b22(0x115)](_0x4b445e['n'])[_0x264b22(0x134)](_0x2bbfac=>{const _0x3cbc99=_0x264b22,_0x365dc2=_0x2bbfac*_0x4b445e['w']+_0x4b445e['x'];return this[_0x3cbc99(0xf6)](_0x5ce71c,_0xafa635,_0x365dc2,_0x4b445e['y'],_0x4b445e['w'],_0x4b445e['h'],_0x450854);});}['areaMatches'](_0x17ed13,_0x1845ee,_0x1ded4e,_0x2a53e3,_0x41bfed,_0x3d8509,_0x28dec9){const _0x4e5499=_0x546d14;_0x28dec9=_0x28dec9[_0x4e5499(0x175)]();for(let _0x53985c=0x0;_0x53985c<_0x41bfed;_0x53985c++){for(let _0x2bc44b=0x0;_0x2bc44b<_0x3d8509;_0x2bc44b++){let _0x247e0d=this[_0x4e5499(0xe9)](_0x53985c+_0x17ed13,_0x2bc44b+_0x1845ee,this['dataMap']),_0x26462d=this[_0x4e5499(0xe9)](_0x53985c+_0x1ded4e,_0x2bc44b+_0x2a53e3,MK[_0x4e5499(0x138)][_0x28dec9]);if(!this['isTileStackEmpty'](_0x26462d)&&!this[_0x4e5499(0x10e)](_0x247e0d,_0x26462d))return![];}}return!![];}[_0x546d14(0x116)](_0x151440){const _0x29267a=_0x546d14;_0x151440=_0x151440||'decoration';if(!MK['additionalMaps'][_0x151440])throw Error(_0x151440+_0x29267a(0x13d));const _0x5c1546=MK['additionalMaps'][_0x151440],_0x21755c=_0x5c1546[_0x29267a(0x15f)],_0x2d9d27=_0x5c1546[_0x29267a(0xdb)];this[_0x29267a(0xd7)][_0x151440]={};function _0x4782b4(_0x16e4bb,_0xb17510){const _0x40435d=_0x29267a;var _0x442c0a=0x0,_0x1c62c5=_0xb17510;for(;$noiseMapGenerator[_0x40435d(0xdd)](_0x442c0a,_0x1c62c5,_0x5c1546)==_0x16e4bb;_0x442c0a++){}_0x442c0a-=0x1;for(;$noiseMapGenerator[_0x40435d(0xdd)](_0x442c0a,_0x1c62c5,_0x5c1546)==_0x16e4bb;_0x1c62c5++){}return{'w':_0x442c0a+0x1,'h':_0x1c62c5-_0xb17510};}function _0x472e43(_0x5e33d0,_0x320e29,_0x1070da,_0x4c4247,_0x2a2538){const _0x38dfd5=_0x29267a;if(_0x2a2538)for(let _0x551051=0x0;_0x551051<_0x21755c;_0x551051++){if($noiseMapGenerator[_0x38dfd5(0xdd)](_0x551051+_0x5e33d0,_0x320e29,_0x5c1546)==MK[_0x38dfd5(0x146)])return Math[_0x38dfd5(0x161)](_0x551051/_0x1070da);}for(let _0x3203a4=0x0;(_0x3203a4+0x1)*_0x1070da-0x1<_0x21755c;_0x3203a4++){const _0x49742e=_0x3203a4*_0x1070da+_0x5e33d0,_0x203a83=_0x320e29,_0x4a20ed=(_0x3203a4+0x1)*_0x1070da-0x1+_0x5e33d0,_0x385e32=_0x320e29+_0x4c4247-0x1;if($noiseMapGenerator[_0x38dfd5(0x165)](_0x49742e,_0x203a83,_0x4a20ed,_0x385e32,_0x5c1546))return _0x3203a4;}return 0x1;}function _0x1bfb2f(_0x2663fa,_0x39008b,_0x59b500){return _0x472e43(_0x39008b,_0x2663fa,_0x39008b,_0x59b500,![]);}function _0x889b3f(_0x3b3c08,_0x50ab06,_0xe2cbc0,_0xe2a844){return _0x472e43(_0x3b3c08,_0x50ab06,_0xe2cbc0,_0xe2a844,!![]);}for(var _0x13cd26=0x0;_0x13cd26<_0x2d9d27;_0x13cd26++){var _0x4e82d4=this[_0x29267a(0xdd)](0x0,_0x13cd26,_0x5c1546);if(!_0x4e82d4||_0x4e82d4 in this[_0x29267a(0xd7)][_0x151440])continue;const _0x446c0e=_0x4782b4(_0x4e82d4,_0x13cd26),_0x5a3707=_0x1bfb2f(_0x13cd26,_0x446c0e['w'],_0x446c0e['h']),_0xc96d96=_0x889b3f((_0x5a3707+0x2)*_0x446c0e['w'],_0x13cd26,_0x446c0e['w'],_0x446c0e['h']),_0x201139={};_0x201139[_0x29267a(0xdd)]=_0x4e82d4,_0x201139['x']=(_0x5a3707+0x2)*_0x446c0e['w'],_0x201139['y']=_0x13cd26,_0x201139['w']=_0x446c0e['w'],_0x201139['h']=_0x446c0e['h'],_0x201139['n']=_0xc96d96,_0x201139[_0x29267a(0xd8)]={},_0x201139[_0x29267a(0xd8)]['x']=_0x201139['w'],_0x201139[_0x29267a(0xd8)]['y']=_0x13cd26,_0x201139[_0x29267a(0xd8)]['w']=_0x446c0e['w'],_0x201139['matchers']['h']=_0x446c0e['h'],_0x201139['matchers']['n']=_0x5a3707,this[_0x29267a(0xd7)][_0x151440][_0x4e82d4]=_0x201139;}}[_0x546d14(0x11b)](_0x5a3fdf){const _0x5cfd83=_0x546d14;_0x5a3fdf=_0x5a3fdf[_0x5cfd83(0x175)](),this[_0x5cfd83(0xd7)][_0x5a3fdf]=[];const _0xd1db55=MK['additionalMaps'][_0x5a3fdf];if(!_0xd1db55)throw Error(_0x5a3fdf+_0x5cfd83(0x117));const _0x207239=_0xd1db55['width'],_0x303d65=_0xd1db55[_0x5cfd83(0xdb)];function _0x590df7(_0x4badfe,_0x2ec967){for(var _0x307e3a=_0x4badfe;_0x307e3a<_0x207239&&!$noiseMapGenerator['isTileEmpty'](_0x307e3a,_0x2ec967,_0xd1db55);_0x307e3a++){}return _0x307e3a-_0x4badfe;}for(let _0x370600=0x0;_0x370600<_0x303d65&&!this[_0x5cfd83(0x12d)](0x0,_0x370600,_0xd1db55);_0x370600++){const _0x1f259a={'x':0x0,'y':_0x370600,'w':0x1,'h':0x1,'n':_0x590df7(0x0,_0x370600)},_0x1fd4fd={'x':_0x1f259a['n']+0x1,'y':_0x370600,'w':0x1,'h':0x1,'n':_0x590df7(_0x1f259a['n']+0x1,_0x370600)};this[_0x5cfd83(0xd7)][_0x5a3fdf][_0x5cfd83(0x176)]({'matchers':_0x1f259a,'tiles':_0x1fd4fd});}}[_0x546d14(0x122)](_0xdbebd6,_0x4a226a){const _0x1c4aec=_0x546d14;if(typeof _0xdbebd6=='number'&&typeof _0x4a226a==_0x1c4aec(0xe2))MK[_0x1c4aec(0xd9)](_0x1c4aec(0x130));_0xdbebd6=_0xdbebd6||_0x1c4aec(0xe6),_0xdbebd6=_0xdbebd6[_0x1c4aec(0x175)]();if([_0x1c4aec(0x118),_0x1c4aec(0xe6),_0x1c4aec(0x12e),_0x1c4aec(0x15e),_0x1c4aec(0x149),'bottom','left',_0x1c4aec(0x142)]['contains'](_0xdbebd6))this[_0x1c4aec(0x166)](_0xdbebd6);else{if(_0x1c4aec(0x10c)==_0xdbebd6)this[_0x1c4aec(0xde)]={'x':$gamePlayer['x'],'y':$gamePlayer['y']};else throw Error(_0x1c4aec(0x12a)+_0xdbebd6);}return this;}[_0x546d14(0x166)](_0x37eec1){const _0x2caca9=_0x546d14,_0x120673=$dataMap[_0x2caca9(0x15f)],_0x46c061=$dataMap['height'],_0x52f36c=this[_0x2caca9(0x152)];if(_0x37eec1==_0x2caca9(0x118)||_0x37eec1==_0x2caca9(0x149)){const _0x2a05e5=MK[_0x2caca9(0x115)](_0x120673)[_0x2caca9(0x106)](_0x3fcd8c=>this['refinedHeightMap'][_0x3fcd8c][0x1]>=_0x52f36c),_0xb84e72=Math[_0x2caca9(0x161)](MK[_0x2caca9(0x109)](_0x2a05e5));this[_0x2caca9(0xde)]={'x':_0xb84e72,'y':0x1};}if(_0x37eec1==_0x2caca9(0xe6)||_0x37eec1==_0x2caca9(0xfb)){const _0x2c1f3c=MK[_0x2caca9(0x115)](_0x120673)[_0x2caca9(0x106)](_0x2bd923=>this['refinedHeightMap'][_0x2bd923][_0x46c061-0x2]>=_0x52f36c),_0x2d65dc=Math[_0x2caca9(0x161)](MK[_0x2caca9(0x109)](_0x2c1f3c));this[_0x2caca9(0xde)]={'x':_0x2d65dc,'y':_0x46c061-0x2};}if(_0x37eec1=='west'||_0x37eec1==_0x2caca9(0x13e)){const _0x3de38f=MK[_0x2caca9(0x115)](_0x46c061)[_0x2caca9(0x106)](_0x4cb658=>this[_0x2caca9(0xe5)][0x1][_0x4cb658]>=_0x52f36c),_0x386287=Math['floor'](MK['average'](_0x3de38f));this[_0x2caca9(0xde)]={'x':0x1,'y':_0x386287};}if(_0x37eec1==_0x2caca9(0x15e)||_0x37eec1==_0x2caca9(0x142)){const _0x3cfdf4=MK[_0x2caca9(0x115)](_0x46c061)['filter'](_0x4499e8=>this[_0x2caca9(0xe5)][_0x120673-0x2][_0x4499e8]>=_0x52f36c),_0xcbc0e9=Math['floor'](MK[_0x2caca9(0x109)](_0x3cfdf4));this[_0x2caca9(0xde)]={'x':_0x120673-0x2,'y':_0xcbc0e9};}if(!this['isPassable'](this[_0x2caca9(0xde)]['x'],this[_0x2caca9(0xde)]['y'])){let _0x1471a8=[];const _0x280b72=this[_0x2caca9(0xde)]['x'],_0x2544b9=this[_0x2caca9(0xde)]['y'];for(let _0x166611=_0x280b72-0x3;_0x166611<=_0x280b72+0x3;_0x166611++){for(let _0x560567=_0x2544b9-0x3;_0x560567<=_0x2544b9+0x3;_0x560567++){_0x1471a8[_0x2caca9(0x176)]({'x':_0x166611,'y':_0x560567});}}_0x1471a8=_0x1471a8['filter'](_0x3d3c47=>0x0<_0x3d3c47['x']&&_0x3d3c47['x']<_0x120673-0x1&&0x0<_0x3d3c47['y']&&_0x3d3c47['y']<_0x46c061-0x1)[_0x2caca9(0x106)](_0x314889=>this[_0x2caca9(0x119)](_0x314889['x'],_0x314889['y']));if(_0x1471a8['length'])this['spawnLocation']=MK['rng'][_0x2caca9(0x148)](_0x1471a8);}}[_0x546d14(0x151)](){return 0x5;}[_0x546d14(0x14f)](){return 0x5;}['noiseMap'](){return new NoiseMapParams();}[_0x546d14(0xe0)](){return new TreeMapParams();}}class NoiseMapParams{constructor(){const _0x3e7d72=_0x546d14;this[_0x3e7d72(0x153)]=SCALE,this[_0x3e7d72(0x105)]=_0x3e7d72(0x16e),this[_0x3e7d72(0x10a)]=0x3;}[_0x546d14(0x152)](_0x8fc642){const _0x4b3d88=_0x546d14;return this[_0x4b3d88(0xdc)]=_0x8fc642,this;}[_0x546d14(0x10b)](_0x4aab27){const _0x3ff33d=_0x546d14;return this[_0x3ff33d(0x153)]=_0x4aab27,this;}['array'](_0x47c0fb){return this['_verticalArray']=_0x47c0fb,this;}[_0x546d14(0xef)](){const _0x25378a=_0x546d14;return this[_0x25378a(0xed)]=!![],this;}[_0x546d14(0xfc)](_0x78dcd6){const _0xce7d81=_0x546d14;return this[_0xce7d81(0x10a)]=_0x78dcd6,this;}['spanningTree'](_0x1aea58){const _0x50ff76=_0x546d14;return this[_0x50ff76(0x105)]=_0x1aea58,this;}[_0x546d14(0x137)](){return $noiseMapGenerator['generate'](this),$noiseMapGenerator;}}class TreeMapParams{constructor(){const _0x5c3eba=_0x546d14;this[_0x5c3eba(0xfd)]=0x14,this[_0x5c3eba(0x105)]=_0x5c3eba(0x16e),this[_0x5c3eba(0x10a)]=0x3;}[_0x546d14(0x152)](_0x51f0af){const _0x54561c=_0x546d14;return this[_0x54561c(0xdc)]=_0x51f0af,this;}[_0x546d14(0x15b)](_0x3589b1){const _0x1744f0=_0x546d14;return this[_0x1744f0(0xfd)]=_0x3589b1,this;}['spanningTree'](_0x3a1cd9){const _0x403fba=_0x546d14;return this[_0x403fba(0x105)]=_0x3a1cd9,this;}['thickness'](_0x1ad341){const _0x3dac53=_0x546d14;return this[_0x3dac53(0x10a)]=_0x1ad341,this;}[_0x546d14(0x137)](){return $noiseMapGenerator['generateTreeMap'](this),$noiseMapGenerator;}}function _0x4a58(_0x5ddd53,_0x19bc86){_0x5ddd53=_0x5ddd53-0xd6;let _0xfeb726=_0xfeb7[_0x5ddd53];return _0xfeb726;}var $noiseMapGenerator=new NoisemapGenerator();

// =====================================================================================
// PluginManager
// =====================================================================================

if (PluginManager && PluginManager.registerCommand) {

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "generateNoiseMap", args => {
        const params = $noiseMapGenerator.noiseMap();
        params.scale(args.scale);
        params.thickness(Number(args.thickness));
        if (args.groundLevel != -1) params.groundLevel(args.groundLevel);
        if ("true" == args.enforceSingleArea) params.enforceSingleArea();
        if ("Minimum Spanning Tree" == args.spanningTree)
            params.spanningTree("MST");
        if ("Arbitrary" == args.spanningTree)
            params.spanningTree("random");
        
        params.generate();
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "generateTreeMap", args => {
        const params = $noiseMapGenerator.treeMap();
        params.nodes(Number(args.nodes));
        params.thickness(Number(args.thickness));
        if ("Minimum Spanning Tree" == args.spanningTree)
            params.spanningTree("MST");
        if ("Arbitrary" == args.spanningTree)
            params.spanningTree("random");
        
        params.generate();
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "drawPath", args => {
        $noiseMapGenerator.drawPath(args.start, args.end, args.mapName);
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "drawStructures", args => {
        $noiseMapGenerator.drawStructures(args.mapName);
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "drawShadings", args => {
        $noiseMapGenerator.drawShadings(args.mapName, Number(args.scale), Number(args.minValue));
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "drawBioms", args => {
        $noiseMapGenerator.drawBioms(args.mapName,
            Number(args.scale),
            Number(args.minValue),
            Number(args.minSize));
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "drawDecorationXTimes", args => {
        $noiseMapGenerator.drawDecorationXTimes(args.regionId, args.min, args.max);
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "spawnPlayerAt", args => {
        $noiseMapGenerator.spawnPlayerAt(args.position);
    });

    PluginManager.registerCommand("MK_RNGMaps_NoiseMaps", "finalize", _ => {
        $noiseMapGenerator.finalize();
    });
}